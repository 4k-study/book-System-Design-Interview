# 3장 시스템 설계 면접 공략법

- 시스템 설계는 매우 복잡하기에 완벽하게 할 수 없다.
    - 문제를 해결하기 위한 과정을 시뮬레이션 하는 것이다.
    - 설계 과정에 대해 본인의 결정에 대한 방어 능력과, 피드백을 건설적으로 처리하는 자리이다.
- 면접자가 보고 싶은 모습
    - 협력에 적합한 사람인지
    - 압박을 견딜 수 있는지
    - 문제 해결 능력
    - 질문 능력
- 면접관에게 보이면 안되는 모습
    - 오버 엔지니어링
    - 편협한 사고

# 효과적 면접을 위한 4단계 접근법

### 1. 문제 이해 및 설계 범위 확정

시작이 반이다. 그만큼 제일 중요한 부분이다. 문제를 보고 바로 답을 내지 말고, 깊이 생각하고 질문하여 요구사항과 가정을 분명히 하라.

- 올바른 질문 (구체적인 기능, 사용자 수, 미래의 규모, 기술 스택 등)
- 절절한 가정 (칠판에 적어두기)

### 2. 개략적인 설계안 제시 및 동의 구하기

개략적인 설계안을 제시하고, 면접관의 동의를 얻는다. 이 과정에서 면접관과 협력하면 좋다.

1. 설계안의 최초 청사진을 제시하고 의견을 구하라.
    1. 면접관을 팀원처럼 대하라.
2. 화이트 보드나 종이에 핵심 컴포넌트를 포함하는 다이어그램을 그려라.
    1. 클라이언트, API, 웹 서버, 데이터 저장소, 캐시, CDN, 메시지 큐 등
3. 위의 설계안이 제약사항을 만족하는지 계산해보자.
    1. 계산은 소리내어 설명하라.
    2. 개략적 추정이 필요한지 면접관에게 질의하라.
4. 가능하면 시스템의 구체적 사용 사례도 살펴보라.
    1. 엣지 케이스 발견
    2. 엔드포인트, 스키마 설계 유무

**예시 :** 뉴스 피드 시스템 설계

- 피드 발행 : 사용자가 포스트를 올리면 관련 데이터가 캐시/DB에 기록되고, 사용자의 친구 뉴스피드에 뜬다.
- 피드 생성 : 어떤 사용자의 뉴스 피드는 해당 사용자 친구들의 포스트를 시간 역순으로 정렬한다.

![image](https://github.com/4k-study/book-System-Design-Interview/assets/85796588/dbb6e028-9f44-463a-8a1e-da544aa4540c)

위 사진은 피드 발행과 피드 생성 플로를 계략화 한 것이다.

### 3. 상세 설계

이 단계에 오려면 다음 목표를 달성한 상태일 것이다.

- 시스템에서 전반적으로 달성해야 할 목표와 기능 범위 확인
- 전체 설계의 개략적 청사진 마련
- 해당 청사진에 대한 면접관의 의견 청취
- 상세 설계에서 집중해야 할 영역 확인

이제 해야 할 일은 설계 대상 컴포넌트의 우선순위를 정하는 것이다.

각 컴포넌트의 세부사항을 깊이있게 설명을 들어야 한다.(병목 구간, 자원 요구량, 지연시간 등)

동시에 세부적인 것을 신경쓰느라 답변을 놓치지 말자 (알고리즘 등)

![Uploading image.png…]()

위 사진처럼 2번에서 설계한 내용의 상세 설계를 할 수 있다.

### 4. 마무리

설계 결과물에 관련된 몇 가지 후속 질문 또는 추가 논의를 진행 한다.

- 시스템 병목구간, 개선 지점 찾아내기 (비판적 사고)
- 설계 요약
- 서버 또는 네트워크 오류 발생시 방안
- 운영 이슈
- 규모 확장
- 세부적 개선사항

### 정리

면접에서 해야할 것

- 질문을 통해 확인하라. 본인의 가정이 맞다고 진행하지 말라.
- 문제의 요구사항을 이해하라.
- 정답이나 최선의 답안 같은 것은 없다. 상황에 맞는 설계를 진행하라.
- 면접관에게 나의 사고의 흐름을 이해시켜라. 즉 소통하며 진행하라.
- 가능하다면 여러 해법을 함께 제시하라.
- 개략적 설계에 면접관이 동의하면 세부사항을 설명하자 (중요한 순서대로)
- 면접관의 아이디어를 이끌어 내라.
- 포기하지 말라

면접에서 하지 말아야 할 것

- 전형적인 문제는 대비하고 참여하라.
- 요구사항이나 가정을 분명히 하지 않은 상태에서 설계를 제시하지 말라
- 처음부터 특정 컴포넌트의 세부사항을 너무 깊이 설명하지 말라. 개략적 설계 후 세부 설계
- 진행중 막히면 힌트를 청하라.
- 소통은 주저말고 진행하라.
- 의견을 일찍 그리고 자주 구하라.

### 시간 배분

시간이 45분 주어진다고 가정하면 어떻게 배분하는게 좋을까?

1. 문제 이해 및 설계 범위 확정 : 3~10분
2. 개략적인 설계안 제시 및 동의 구하기 : 10~15분
3. 상세 설계 : 10~25분
4. 마무리 : 3~5분
